<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<!-- web app settings -->
	<link rel="manifest" href="manifest.json">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=0">
	<title>S.E.P.I.A. Control HUB</title>
	<meta name="application-name" content="Control HUB"/>
	<meta name="apple-mobile-web-app-title" content="Control HUB">
	<meta name="description" content="The S.E.P.I.A. Control HUB helps you set-up, configure and manage your assistant and servers.">
	<meta name="theme-color" content="#151515">
	<link rel="icon" sizes="192x192" href="img/icon-w.png">
	<link rel="apple-touch-icon" href="img/icon-w.png">
	
	<!-- open graph settings -->
	<meta property="og:title" content="S.E.P.I.A. Control HUB"/>
	<meta property="og:determiner" content="the" />
	<meta property="og:url" content="https://sepia-framework.github.io/tools/"/>
	<meta property="og:description" content="The S.E.P.I.A. Control HUB helps you set-up, configure and manage your assistant and servers.">
	<meta property="og:image" content="https://sepia-framework.github.io/img/logo-w.png"/>
	<meta property="og:image:width" content="960"/>
	<meta property="og:image:height" content="960"/>
	<meta property="og:image:type" content="image/png"/>
	<meta property="og:image:alt" content="SEPIA Logo"/>
	<meta property="og:image" content="https://sepia-framework.github.io/tools/img/icon-w.png"/>
	<meta property="og:image:width" content="192"/>
	<meta property="og:image:height" content="192"/>
	<meta property="og:image:type" content="image/png"/>
	<meta property="og:image:alt" content="SEPIA Icon"/>
	<meta property="og:type" content="website"/>
	<meta property="og:locale" content="en_GB"/>
	<meta property="og:locale:alternate" content="en_US"/>

	<!-- imports -->
	<link rel="stylesheet" href="lib/bytemind-lib-1.1.0.css" title='main'>
	<link rel="stylesheet" href="css/my-page-style.css" title='main'>
	<link rel="stylesheet" href="css/bytemind-webapp-style.css" title='main'>
	<!-- MY SKIN (put here or at end of body) -->
	<!-- <link rel="stylesheet alternate" href="css/my-bytemind-skin.css" class='bytemind-style-skin' title='main' data-name='MySkin'> -->
	<style>
	</style>
</head>
<body>
	<!-- LOGIN -->
	<div id="bytemind-login-box" style="display:none;">
		<div id="bytemind-login-language-selector"></div>
		<h2 data-bm-local-text="welcome">Welcome</h2>
		<div id="bytemind-login-form">
			<input id="bytemind-login-id" type="email" placeholder="Username" aria-label="Username" autocomplete="username" spellcheck="false" data-bm-local-placeholder="username">
			<input id="bytemind-login-pwd" type="password" placeholder="Password" aria-label="Password" data-bm-local-placeholder="password">
			<button id="bytemind-login-send" data-bm-local-text="sendLogin">Login</button><br>
			<button id="bytemind-login-close" data-bm-local-text="closeLogin" class="bm-extendable" style="display:none;">Continue without login</button><br>
		</div>
		<!-- host selector -->
		<div id="bytemind-host-name-box" class="bm-extendable" style="display:none;">
			<label>Authentication Server:</label>
			<input id="bytemind-login-host-name" type="url" placeholder="http://localhost:20721" aria-label="Hostname">
		</div>
		<!-- status and links -->
		<p id="bytemind-login-status"></p>
		<div id="bytemind-login-links">
			<a id="bytemind-login-license-btn" href="license.html" target="_blank" data-bm-local-text="license">License</a>
			<a id="bytemind-login-policy-btn" href="https://sepia-framework.github.io/privacy-policy.html" target="_blank" data-bm-local-text="data_privacy">Data Privacy</a>
		</div>
		<!-- extend button -->
		<div id="bytemind-login-extend-box"><button id="bytemind-login-extend-btn"><i class="material-icons md-btn2">arrow_drop_down</i></button></div>
	</div>
	<!-- RESULT VIEW -->
	<div id="result-container" style="display:none;">
		<button id="result-close-btn" onclick="resultBoxHide()"><i class="material-icons md-24">close</i></button>
		<button id="result-drag-btn"><i class="material-icons md-24">drag_indicator</i></button>
		<div id="show_result">
			Welcome to SEPIA Control HUB
		</div>
	</div>
	<!-- MAIN -->
	<div id="bytemind-webapp-window">
		<!-- Header -->
		<div id="bytemind-webapp-header">
			<div id="bytemind-header-content">
				<div class="bytemind-page-title">Welcome</div>
			</div>
			<div id="bytemind-header-accent"></div>
		</div>
		<!-- Top menu -->
		<div id="bytemind-webapp-top-bar">
			<div id="bytemind-menu-btn-ctrl" class="bytemind-nav-bar-button bytemind-button"><i class="material-icons md-24">&#xE5D2;</i><span>Menu</span></div>
			<div id="bytemind-webapp-top-bar-dynamic"><!-- code --></div>
			<div id="bytemind-account-btn" onclick='toggleLoginInfoBox()' class="bytemind-nav-bar-button bytemind-button" style="position:relative;"><i class="material-icons md-24">&#xE853;</i><span>Account</span></div>
		</div>
		<!-- Side menu -->
		<div id="my-bytemind-side-menu-interlayer" class="bytemind-side-menu-interlayer"></div>
		<div id="my-bytemind-side-menu" class="bytemind-side-menu">
			<div id="my-bytemind-menu-close" class="bytemind-side-menu-close-btn bytemind-button"><i class="material-icons md-24">&#xE314;</i></div>
			<!-- code -->
		</div>
		<div id="my-bytemind-side-menu-swipe" class="bytemind-swipe-area-left"></div>
		<!-- Main -->
		<div id="bytemind-webapp-main">
			<!-- info box -->
			<div id="login-info-box" style="display:none;">
				<!--<div id="login-info-box-id">Unknown</div>
				<div id="login-info-box-host"></div>
				<div id="login-info-box-client"></div>-->
				<div><label>UserID: </label><input id="id" type="text" placeholder="ID or email" autocomplete="username" spellcheck="false"></div>
				<div style="position: relative;">
					<label>Password: </label><input id="pwd" type="password" placeholder="Password or token" onchange="updatePasswordSecurityWarning()">
					<span id="pwd-security-indicator" class="input-inline-indicator inactive" title="Red: using actual password (unsafe), Green: using login-token (safe)"></span>
				</div>
				<div><label>Client ID: </label><input id="custom-client" type="url" placeholder="web_app_tools" spellcheck="false"></div>
				<div id="login-info-box-buttons">
					<button onclick="showLoginToken()" class="interface_button">NEW LOGIN</button>
					<button onclick="logoutThis()" class="interface_button">SIGN OUT</button>
					<button onclick="logoutAll()" class="interface_button">SIGN OUT ALL MY CLIENTS</button>
				</div>
			</div>
			<!-- page sections -->
			<div id="bytemind-main-views">
				<!-- HOME -->
				<div id="home" class="bytemind-view">
					<div id="home-section">
						<img id="home-logo" src="img/icon-512-alpha.png" alt="SEPIA">
						<h1>S.E.P.I.A. Control HUB</h1>
						<h2>Set up your Voice-Assistant Environment</h2>
					</div>
				</div>

				<!-- SERVER CONNECTIONS -->
				<div id="server-connections" class="bytemind-view">
					<!--<section class="group">
						<h3>Server</h3>
						<div class="group"><label>Custom server: </label><input id="server" type="url" placeholder="e.g. http://[IP]:[PORT]/(sepia/)" spellcheck="false" autocomplete="url"></div>
						<div class="group"><label>Select server: </label><select id="server_select" name="server_sel">
							<option value="http://localhost:20726/sepia/">LOCAL-HOST-SEPIA</option>
							<option value="http://localhost:20721/">LOCAL-HOST-20721</option>
							<option value="http://localhost:20722/">LOCAL-HOST-20722</option>
							<option value="http://localhost:20723/">LOCAL-HOST-20723</option>
						</select></div>
					</section>-->
					<h3>Connections</h3>
					<section id="server-cards" class="group">
						<div class="server-card">
							<h4>Authentication Server</h4>
							<input id="server" type="url" placeholder="http://localhost:20721/" spellcheck="false" onchange="onChangeMainServer()">
							<div class="server-card-buttons">
								<button class="interface_button" onclick="onChangeMainServer()">SET NEW SERVER</button>
								<button class="interface_button" onclick="searchLocalServers()">SEARCH LOCAL SERVERS</button>
							</div>
						</div>
						<div class="server-card">
							<h4>Assist Server</h4>
							<input id="assist-server" type="url" placeholder="http://localhost:20721/" spellcheck="false" onchange="onChangeAssistServer()">
							<div class="server-card-buttons">
								<button onclick="serverValidation('assist')" class="interface_button">INFO</button>
								<button onclick="serverStatus('assist')" class="interface_button">STATISTICS</button>
							</div>
						</div>
						<div class="server-card">
							<h4>Teach Server</h4>
							<input id="teach-server" type="url" placeholder="http://localhost:20722/" spellcheck="false" onchange="onChangeTeachServer()">
							<div class="server-card-buttons">
								<button onclick="serverValidation('teach')" class="interface_button">INFO</button>
								<button onclick="serverStatus('teach')" class="interface_button">STATISTICS</button>
							</div>
						</div>
						<div class="server-card">
							<h4>Chat Server</h4>
							<input id="chat-server" type="url" placeholder="http://localhost:20723/" spellcheck="false" onchange="onChangeChatServer()">
							<div class="server-card-buttons">
								<button onclick="serverValidation('chat')" class="interface_button">INFO</button>
								<!--<button onclick="serverStatus('chat')" class="interface_button">STATISTICS</button>--><!-- TODO -->
							</div>
						</div>
						<div class="server-card">
							<h4>Mesh-Node Server</h4>
							<input id="mesh-node-server" type="url" placeholder="http://localhost:20780/" spellcheck="false" onchange="onChangeMeshNodeServer()">
							<input id="mesh-node-pin" type="url" placeholder="Mesh-Node PIN" value="123456">
							<div class="server-card-buttons">
								<button onclick="serverValidation('mesh-node')" class="interface_button">INFO</button>
								<button onclick="serverStatus('mesh-node')" class="interface_button">STATISTICS</button>
							</div>
						</div>
					</section>
				</div>

				<!-- CORE SETTINGS -->
				<div id="core-settings" class="bytemind-view">
					<section class="group">
						<h3>Load and Change Settings</h3>
						<p class="info-text">Persistent settings are the settings stored in the properties file of the Assist-Server.</p>
						<div class="interface_button_box">
							<button onclick="getFullServerConfig()" class="interface_button">Get Persistent Settings</button>
						</div>
						<div id="settings-list-box"></div>
						<p class="info-text">Write key-value pair to config. Will take effect after server reload.</p>
						<div class="group">
							<input id="settings-write-kvpair-k" type="text" spellcheck="false" placeholder="key">
							<span style='min-width: 32px; text-align: center; color: #beff1a;'>=</span>
							<input id="settings-write-kvpair-v" type="text" spellcheck="false" placeholder="value">
						</div>
						<div class="interface_button_box">
							<button onclick="getSpecificServerConfig()" class="interface_button">Read this key</button>
							<button onclick="writeKeyValueToServerConfig()" class="interface_button">Write to config</button>
							<button onclick="softRestartServer()" class="interface_button" style="background: #44c8be;">Reload Server</button>
						</div>
					</section>
					<section class="group">
						<h3>Ad-hoc Toggles</h3>
						<p class="info-text">Ad-hoc settings are settings that will not persist on server restart (e.g. for testing).</p>
						<div class="interface_button_box">
							<button onclick="getAdHocServerConfig()" class="interface_button">Get Ad-Hoc Settings</button>
						</div>
						<p class="info-text">Changes some settings ad-hoc without writing to config file. Will reset on server-restart.</p>
						<div class="interface_button_box">
							<button onclick="toggleServerAnswers()" class="interface_button">Toggle Answers Module</button>
							<button onclick="toggleSentencesDb()" class="interface_button">Switch user sentences ON/OFF</button>
							<button onclick="toggleSdk()" class="interface_button">Switch SDK ON/OFF</button>
							<!--<button onclick="cleanEmailBcc()" class="interface_button">REMOVE EMAIL BCC</button>-->
						</div>
					</section>
					<section class="group">
						<h3>Database Functions</h3>
						<p class="info-text">Modify database configuration. Use with CAUTION!</p>
						<div class="group">
							<label>Reload cmd: </label><input id="settings-db-reload" type="text" spellcheck="false" placeholder="[db]-[index], e.g.: es-answers">
						</div>
						<div class="group">
							<span>Attention: This will overwrite the old database index!</span>
						</div>
						<div class="interface_button_box">
							<button onclick="reloadDatabaseIndex()" class="interface_button dangerous-button">RELOAD</button>
							<!--<button onclick="getServicesUpload()" class="interface_button">SERVICES UPLOAD INTERFACE</button>-->
						</div>
					</section>
				</div>

				<!-- USER MANAGEMENT -->
				<div id="user-management" class="bytemind-view">
					<section class="group">
						<h3>Create new user</h3>
						<p class="info-text">By default you register a new user by setting his email (real or "fake", e.g. test@sepia.local) on the whitelist first.</p>
						<div class="group2">
							<div class="group"><label>Email: </label><input id="new-user-email" type="text" title="Real or 'fake' email address to identify user"></div>
							<div class="group"><label>Password: </label><input id="new-user-pwd" type="password"></div>
						</div>
					</section>
					<section class="group">
						<div class="interface_button_box">
							<button onclick="whitelistEmail()" class="interface_button">PUT ON WHITELIST</button>
							<button onclick="createUser()" class="interface_button">CREATE</button>
							<button onclick="getUserList()" class="interface_button">GET USER LIST</button>
						</div>
					</section>
					<section class="group">
						<h3>Edit user</h3>
						<p class="info-text">As admin you can change user roles and delete ANY user (but the core admin). Other users can delete ONLY themselves.</p>
						<div class="group2">
							<div class="group"><label>UserID: </label><input id="edit-user-id" type="text" placeholder="User to edit"></div>
							<div class="group"><label>Roles: </label><input id="new-user-roles" type="text" placeholder="e.g.: developer, smarthomeguest, tinkerer" title="More roles: smarthomeguest, seniordev, chiefdev, tester, inviter"></div>
						</div>
					</section>
					<section class="group">
						<div class="interface_button_box">
							<button onclick="getUserRoles()" class="interface_button">GET ROLES</button>
							<button onclick="setUserRoles()" class="interface_button">SET ROLES</button>
							<button onclick="deleteUser()" class="interface_button dangerous-button">DELETE USER</button>
						</div>
					</section>
				</div>

				<!-- CODE-UI -->
				<div id="code-ui" class="bytemind-view">
					<!-- loaded via ajax call -->
					<div id="code-ui-page-content"></div>
				</div>

				<!-- SMART HOME -->
				<div id="smart-home" class="bytemind-view">
					<section class="group">
						<h3>Smart Home HUB</h3>
						<div class="group"><label>Select system: </label>
							<select id="smarthome_system_select" name="smarthome_system_sel">
								<option value="" disabled selected>-Select-</option>
								<option value="openhab">openHAB</option>
								<option value="fhem">FHEM</option>
								<option value="internal">Internal (SEPIA)</option>
								<option value="test">Test HUB</option>
								<option value="custom">Custom</option>
							</select>
						</div>
						<div id="smarthome_system_custom" class="group" style="display: none;">
							<label style="position: relative;">Custom: </label>
							<input id="smarthome_system_custom_select" type="text" placeholder="e.g.: HUB or class name" title="Class name sample: net.b07z.sepia.sdk.services.uid1007.MyService$MyHub">
						</div>
						<div class="group">
							<label style="position: relative;">Server: 
								<span id="smarthome-server-indicator" class="input-inline-indicator inactive" title="Red: server not found, Green: connection established"></span>
							</label>
							<input id="smarthome-server" type="text" placeholder="e.g.: http://localhost:8080">
						</div>
						<div class="interface_button_box">
							<button onclick="getSmartHomeHubDataFromServer()" class="interface_button">LOAD HUB INFO</button>
							<button onclick="writeSmartHomeHubDataToServer()" class="interface_button">WRITE HUB INFO</button>
						</div>
					</section>
					<section class="group">
						<div class="interface_button_box">
							<button id="smarthome-hub-register" onclick="registerSepiaInsideSmartHomeHub()" class="interface_button" style="display: none;">REGISTER SEPIA</button>
							<button id="smarthome-devices-create" onclick="createSmartHomeItem()" class="interface_button" style="display: none;">CREATE DEVICE</button>
							<div>
								<label>GET DEVICES:</label><select id="smarthome-devices-filter" style="min-width: unset;"></select>
								<!--<button onclick="getSmartHomeDevices()" class="interface_button">GET DEVICES</button>-->
							</div>
						</div>
					</section>
					<section class="group">
						<h3>Devices <span id="smarthome-devices-last-refresh"></span></h3>
						<div id="smarthome-devices-list">
							<h3 style="width: 100%; margin-bottom: 0;">Quick start</h3>
							<ul class="smarthome-devices-list-info">
								<li>Load HUB info from server or write new settings (more at: <a href='#!core-settings'>Core Settings</a>)</li>
								<li>Register SEPIA Framework once if required (currently only: FHEM)</li>
								<li>Get the list of devices from smart home HUB</li>
								<li>Configure devices for SEPIA as needed</li>
								<li>See the <a href="https://github.com/SEPIA-Framework/sepia-docs/wiki/Smart-Home-Controls" target="_blank">INFO PAGE</a> for detailed instructions
							</ul>
						</div>
					</section>
				</div>

				<!-- ASSISTANT -->
				<div id="assistant" class="bytemind-view">
					<section class="group" style='margin-bottom: 0;'>
						<h3>Test sentence</h3>
						<div class="group">
							<select id="assist-language-select" name="assist-lang" style="min-width: 100px;"> 
								<!-- generated dynamically on start -->
							</select>
							<input id="test-sentence" type="text">
						</div>
					</section>
					<section class="group">
						<div class="interface_button_box">
							<p style='margin: 8px 0 16px 0;'>API endpoints</p>
							<button onclick="interpret()" class="interface_button">INTERPRET</button>
							<button onclick="understand()" class="interface_button">UNDERSTAND</button>
							<button onclick="interview()" class="interface_button">INTERVIEW</button>
							<button onclick="answer()" class="interface_button">ANSWER</button>
							<button onclick="reportSentence()" class="interface_button">REPORT</button>
						</div>
					</section>
					<section class="group">
						<h3>Remote action</h3>
						<div class="group">
							<select id="remote-action-type-sel" name="remote-action-types" style="min-width: 100px;">
								<!-- generated dynamically on start -->
							</select>
							<!--<label>Action: </label>--><input id="remote-action" placeholder="Action" type="text">
						</div>
						<div class="group">
							<label style="min-width:100px; padding:0 6px; margin:0 8px;">device ID: </label><input id="remote-action-device-id" placeholder="b1" type="text">
						</div>
						<div class="group">
							<label style="min-width:100px; padding:0 6px; margin:0 8px;">channel ID: </label><input id="remote-action-channel-id" placeholder="openWorld" type="text">
						</div>
					</section>
					<section class="group">
						<div class="interface_button_box">
							<button onclick="sendRemoteAction()" class="interface_button">SEND</button>
						</div>
					</section>
				</div>

				<!-- ANSWER MANAGER -->
				<div id="answer-manager" class="bytemind-view">
					<p class="info-text">Define custom answers for your services. NOTE: Only works if answer module is set to 'elasticsearch'.</p>
					<form id="answer-manager-form" onsubmit="return saveAnswer()" action="">
						<table>
							<tr><td>Language</td><td>
								<select id="answer-manager-lang-sel" name="answer-language" required>
									<option value=""></option>
									<!-- generated dynamically on start -->
								</select>
							</td></tr>
							<tr><td>Type:</td><td><input type="text" name="answer-type" required></td></tr>
							<tr><td>Text:</td><td><input type="text" name="answer-text" required></td></tr>
							<tr><td>Repetition:</td><td><input type="text" name="answer-repetition" value="0" required></td></tr>
							<tr><td>Mood:</td><td><input type="text" name="answer-mood" value="5" required></td></tr>
							<tr><td>Characters:</td><td>
								<input type="checkbox" name="answer-polite"><label>Polite</label><br>
								<input type="checkbox" name="answer-neutral" checked><label>Neutral</label><br>
								<input type="checkbox" name="answer-cool"><label>Cool</label><br>
								<input type="checkbox" name="answer-rude"><label>Rude</label><br>
							</td></tr>
							<tr><td>Public?</td><td><input type="checkbox" name="answer-public" checked></td></tr>
							<tr><td>Local?</td><td><input type="checkbox" name="answer-local"></td></tr>
							<tr><td>Explicit?</td><td><input type="checkbox" name="answer-explicit"></td></tr>
							<tr><td>Tags</td><td><input type="text" name="answer-tags" placeholder="tag1, tag2, ..."></td></tr>
							<tr><td>System default?</td><td><input type="checkbox" name="answer-systemdefault"></td></tr>
							<tr><td>ID:</td><td><input type="text" name="answer-id" value="" placeholder="will be loaded automatically" disabled></td></tr>
							<tr><td><br></td></tr>
							<tr><td colspan="2" style="text-align:center;">
								<input type="submit" value="SAVE" class="interface_button"><!--
								--><input type="button" value="LOAD BY TYPE" onclick="loadAnswer()" class="interface_button">
								<!-- <br><button onclick="modifyAnswer()" class="interface_button">MODIFY</button>
								<br><button onclick="deleteAnswer()" class="interface_button">DELETE</button> -->
							</td></tr>
						</table>
					</form>
				</div>

				<!-- SPEECH RECOGNITION -->
				<div id="speech-recognition" class="bytemind-view">
					<section class="group">
						<h3>Speech-To-Text Server</h3>
						<div class="group">
							<label style="position: relative;">Server: 
								<span id="stt-server-indicator" class="input-inline-indicator inactive" title="Red: server not found, Green: connection established"></span>
							</label>
							<input id="stt-server" type="url" onchange="checkSttServer()" placeholder="e.g.: http://localhost:3080/stt" onkeypress="checkSttServerKeyPress()">
						</div>
						<div class="group" style="position: relative;">
							<label>Access token: </label><input id="stt-access-token" type="text">
						</div>
					</section>
					<section class="group">
						<p class="info-text">You can modify the speech model of your STT server with the settings below. The path is relative to the server file system (or Docker container).</p>
						<div class="group center">
							<label>Full Model Path: </label>
							<input id="stt-model" type="text" style="max-width: 386px;" placeholder="/apps/share/kaldi_models/kaldi-generic-de-tdnn_sp_sepia_v02" value="" spellcheck="false">
						</div>
						<div class="interface_button_box">
							<button onclick="getSttModel()" class="interface_button">GET MODEL PATH</button>
							<button onclick="setSttModel()" class="interface_button">SET MODEL PATH</button>
						</div>
					</section>
					<section class="group">
						<p class="info-text">Language model (LM) adaptation is not documented yet but feel free to experiment ;-)</p>
						<div class="interface_button_box">
							<button onclick="sttGetTrainingDataFromTeachServer()" class="interface_button">Get Adapt Data</button>
						</div>
						<div class="group3 spacy">
							<div>
								<label style="min-width: 100px;">Version tag:</label>
								<input id="stt-model-version" type="text" placeholder="02" style="height: 27px; min-width: 70px; width: 85px;">
							</div>
							<div>
								<label style="min-width: 100px;">Language:</label>
								<select id="stt-language-select" name="stt-lang" style="min-width: 70px; width: 85px;"> 
									<option value="en">EN</option>
									<option value="de">DE</option>
								</select>
							</div>
						</div>
						<div class="interface_button_box">
							<button onclick="sttAdaptLm()" class="interface_button">Adapt LM</button>
						</div>
					</section>
					<section class="group">
						<h3>Info</h3>
						<div class="group"><a href="https://github.com/SEPIA-Framework/sepia-stt-server" target=_blank>SEPIA STT-Server @ GitHub</a></div>
					</section>
				</div>
				
				<!-- TEXT-TO-SPEECH -->
				<div id="text-to-speech" class="bytemind-view">
					<section class="group">
						<h3>Text-To-Speech (TTS)</h3>
						<p class="info-text">Here you can test the integrated TTS module of SEPIA.<br>
						The priority of settings is 'mood - gender - language - voice' meaning for example<br>
						voice will always overwrite other selections.</p>
						<div class="interface_button_box">
							<button onclick="ttsGetInfo()" class="interface_button">GET INFO</button>
						</div>
						<br>
						<div class="group2">
							<div class="group">
								<label>Text: </label><input id="tts-text" type="text">
							</div>
							<div class="group"><label>Voice: </label><select id="tts-voice" name="tts_voice"> 
								<!-- added via info button -->
								<option value="" disabled selected>-- get info first --</option>
							</select></div>
							<div class="group"><label>Language: </label><select id="tts-language" name="tts_lang"> 
								<!-- added via info button -->
								<option value="" disabled selected>-- get info first --</option>
							</select></div>
							<div class="group"><label>Gender: </label><select id="tts-gender" name="tts_gen"> 
								<!-- added via info button -->
								<option value="" disabled selected>-- get info first --</option>
							</select></div>
							<div class="group"><label>Mood Lvl.: </label><select id="tts-mood" name="tts_mood"> 
								<!-- added via info button -->
								<option value="" disabled selected>-- get info first --</option>
							</select></div>
						</div>
						<div class="interface_button_box">
							<button onclick="ttsSpeak()" class="interface_button">SPEAK</button>
						</div>
						<br>
						<div class="group2">
							<audio id="tts-audio-player" controls autoplay style="display: none;">
								<source id="tts-audio-source" src="">
								Your browser does not support the audio tag.
							</audio>
							<div id="tts-audio-player-controls"> 
								<button onclick="ttsPlayer('play');"><i class="material-icons md-24">play_arrow</i></button>
								<button onclick="ttsPlayer('pause');"><i class="material-icons md-24">pause</i></button>
								<button onclick="ttsPlayer('vol-up');"><i class="material-icons md-24">volume_up</i></button>
								<button onclick="ttsPlayer('vol-down');"><i class="material-icons md-24">volume_down</i></button>
							</div>
						</div>
					</section>
				</div>

				<!-- CHAT SERVER -->
				<div id="chat-server-settings" class="bytemind-view">
					<section class="group">
						<h3>Create channel</h3>
						<p class="info-text">NOTE: When you create a channel as admin he will initially be a member of the channel. This might not be desired.</p>
						<div class="group2">
							<form id="chat-server-settings-form" onsubmit="return createMessengerChannel()" action="">
								<div class="group"><label>Channel name: </label><input id="msg-channel-name" type="text" required></div>
								<div class="group"><label>Members: </label><input id="msg-channel-members" type="text"></div>
								<div class="group"><label>Public? </label><input type="checkbox" id="msg-channel-public" style="min-width: 100px;"></div>
								<div class="group"><label>Add assistant? </label><input type="checkbox" id="msg-channel-assist" style="min-width: 100px;" checked></div>
								<br>
								<div class="interface_button_box">
									<input type="submit" value="CREATE" class="interface_button">
								</div>
							</form>
						</div>
					</section>
					<section class="group">
						<h3>Channel history statistics</h3>
						<p class="info-text">Get info about all (cached) channels that store a chat history. Check e.g. channel ID, size and last message poll.</p>
						<div class="interface_button_box">
							<button onclick="checkChannelHistoryStats()" class="interface_button">GET INFO</button>
							<button onclick="removeOutdatedChannelMessages()" class="interface_button">REMOVE OLD MESSAGES</button>
						</div>
					</section>
				</div>
				
				<!-- CLIENT CONNECTIONS -->
				<div id="client-connections" class="bytemind-view">
					<section class="group">
						<h3>Client Connections</h3>
						<p class="info-text">Use this page to communicate with clients that are connected to a <a href='https://github.com/bytemind-de/nodejs-client-extension-interface#readme' target=_blank>CLEXI</a> server.</p>
						<div class="group2">
							<div class="group">
								<label style="position: relative;">CLEXI URL: 
									<span id="clexi-server-indicator" class="input-inline-indicator inactive" title="Red: server not found, Green: connection established"></span>
								</label><input id="client-clexi-host" type="text" spellcheck=false placeholder="ws://[IP]:9090/clexi">
							</div>
							<div class="group">
								<label>CLEXI ID: </label><input id="client-clexi-id" type="text" spellcheck=false placeholder="clexi-123">
							</div>
							<!--<div class="group">
								<label>Auth. user: </label><input id="client-clexi-auth-user" type="text" spellcheck=false placeholder="">
							</div>
							<div class="group">
								<label>Auth. passw.: </label><input id="client-clexi-auth-pwd" type="password" spellcheck=false placeholder="">
							</div>-->
						</div>
						<div class="interface_button_box">
							<button onclick="clientClexiConnect()" class="interface_button">CONNECT</button>
							<button onclick="clientClexiDisconnect()" class="interface_button">DISCONNECT</button>
						</div>
					</section>
					<h3>Remote Terminal</h3>
					<div class="group"><label>Message type: </label><select id="client-clexi-msg-type" name="clexi_msg_type"> 
						<option value="sepia-client" selected>SEPIA Client</option>
						<option value="broadcast">Broadcast Free</option>
						<option value="http-event">HTTP Event</option>
						<option value="remote-button">Remote Button</option>
						<option value="runtime-command">Runtime Command</option>
					</select></div>
					<div class="group">
						<label>Device ID: </label><input id="client-clexi-device-id" type="text" spellcheck=false placeholder="o1" value="">
					</div>
					<div class="interface_button_box server-terminal-shortcuts">
						<button onclick="clientClexiShortcutPingAll();" title="Shortcut: ping all"><i class="material-icons md-24">rss_feed</i></button>
						<button onclick="clientClexiShortcutReload();" title="Shortcut: reload client (device ID)"><i class="material-icons md-24">refresh</i></button>
						<button onclick="clientClexiShortcutTest();" title="Shortcut: test client (device ID)"><i class="material-icons md-24">tap_and_play</i></button>
						<button onclick="clientClexiShortcutTrigger();" title="Shortcut: trigger mic (device ID)"><i class="material-icons md-24">touch_app</i></button>
						<button onclick="clientClexiHelp();" title="Help"><i class="material-icons md-24">help</i></button>
					</div>
					<div class="server-terminal-input">
						<label style="min-width: auto; margin: 8px;">Message:</label>
						<input id="client-clexi-msg" type="text" placeholder=">_" spellcheck=false>
						<button onclick="clientClexiSend()" class="interface_button">SEND</button>
					</div>
					<br>
					<div style="width: 100%; position: relative;">
						<div id="client-clexi-events" class="server-event-messages">- REMOTE MESSAGES -<br></div>
						<button onclick="clientClexiSetEventFilters()" class="server-terminal-button server-terminal-event-filters" title="set filters"><i class="material-icons md-18">filter_list</i></button>
						<button onclick="clientClexiEventsClear()" class="server-terminal-button server-terminal-clear-input" title="clear history"><i class="material-icons md-18">delete</i></button>
					</div>
				</div>

				<!-- PERFORMANCE TESTS -->
				<div id="performance-tests" class="bytemind-view">
					<section class="group">
						<label>Call method: </label><select id="synch_select" name="synch_sel" style="width: 150px; min-width: 50px;"> 
							<option value="sync">synchronous</option>
							<option value="async">asynchronous</option>
						</select>
					</section>
					<section class="group">
						<div class="group"><label>Repeat N: </label><input id="test_N" style="width: 50px; min-width: 50px;" value=4></div>
						<div class="group"><label>Asy. delay (ms): </label><input id="delay_N" style="width: 50px; min-width: 50px;" value=0></div>
					</section>
					<section class="group">
						<div class="interface_button_box">
							<button onclick="testAuthPerformance()" class="interface_button">TEST AUTHENTICATION</button><br>
							<button onclick="testAnswerPerformance()" class="interface_button">TEST ANSWER</button>
						</div>
					</section>
				</div>

				<!-- HELP -->
				<div id="help" class="bytemind-view">
					<section class="group">
						<h3>SEPIA Basics</h3>
						<div class="group"><a href="https://sepia-framework.github.io" target=_blank>SEPIA Homepage</a></div>
						<div class="group"><a href="https://github.com/SEPIA-Framework" target=_blank>SEPIA-Framework @ GitHub</a></div>
						<div class="group"><a href="https://github.com/SEPIA-Framework/sepia-docs" target=_blank>Documentation @ GitHub</a></div>
						<div class="group"><a href="https://github.com/SEPIA-Framework/sepia-sdk-java" target=_blank>SEPIA-SDK @ GitHub</a></div>
					</section>
					<section class="group">
						<h3>News & Help</h3>
						<div class="group"><a href="https://twitter.com/sepia_fw" target=_blank>SEPIA News @ Twitter</a></div>
						<div class="group"><a href="https://medium.com/sepia-framework" target=_blank>SEPIA Blog @ Medium</a></div>
						<div class="group"><a href="https://github.com/SEPIA-Framework/sepia-docs/issues" target=_blank>Ask a question @ GitHub</a></div>
					</section>
					<section class="group">
						<h3>Credits</h3>
						<div class="group"><a href="http://bytemind.de" target=_blank>bytemind.de</a></div>
					</section>
					<section class="group">
						<h3>Control HUB Info</h3>
						<div class="group">Version:&nbsp;<span id="control-hub-version" class="highlight-text"></span></div>
					</section>
				</div>
			</div>
		</div>
		<!-- Footer -->
		<div id="bytemind-webapp-footer">
			<div id="bytemind-refresh-btn" class="bytemind-button"><i class="material-icons md-24">&#xE5D5;</i></div>
			<span>S.E.P.I.A. Framework</span>
			<div id="bytemind-fullscreen-btn" class="bytemind-button"><i class="material-icons md-24">&#xE56B;</i></div>
		</div>
		<!-- Overlay buttons -->
		<div id="bytemind-fullscreen-overlay-btn" class="bytemind-button" style="display:none;"><i class="material-icons md-24">&#xE56B;</i></div>
	</div>
<!-- LOW PRIO STYLESHEETS -->
<link rel="stylesheet" href="lib/googleMaterialIcons.css">
<!--<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">-->
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
<!-- Polyfills -->
<script>
(function () { 
	if (typeof window.CustomEvent === "function") return false; 
	function CustomEvent (event, params) { 
		params = params || { bubbles: false, cancelable: false, detail: null }; 
		var evt = document.createEvent("CustomEvent"); 
		evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail ); 
		return evt; 
	} 
	window.CustomEvent = CustomEvent; 
})();
</script>
<!-- JS -->
<script src="lib/jquery-3.4.1.min.js"></script>
<script src="lib/hammer.min.js"></script>
<script src="lib/hammer-time.min.js"></script>
<script src="lib/sjcl.js"></script>
<script src="lib/clexi-0.8.2.js"></script>
<script src="lib/bytemind.core.js"></script>
<script src="lib/bytemind.local.js"></script>
<script src="lib/bytemind.ui.js"></script>
<script src="lib/bytemind.webservice.js"></script>
<script src="lib/bytemind.account.js"></script>
<script src="lib/bytemind.ui.carousel-1.1.1.js"></script>
<script src="lib/bytemind.ui.sidemenu-1.1.1.js"></script>
<!--APP -->
<link rel="stylesheet" href="css/server-config.css" title='main'>
<link rel="stylesheet" href="css/smart-home.css" title='main'>
<script type="text/javascript" src="js/shared.js" charset="UTF-8"></script>
<script type="text/javascript" src="js/authentication.js" charset="UTF-8"></script>
<script type="text/javascript" src="js/users.js" charset="UTF-8"></script>
<script type="text/javascript" src="js/assistant.js" charset="UTF-8"></script>
<script type="text/javascript" src="js/socket-client.js" charset="UTF-8"></script>
<script type="text/javascript" src="js/answer-manager.js" charset="UTF-8"></script>
<script type="text/javascript" src="js/server-config.js" charset="UTF-8"></script>
<script type="text/javascript" src="js/smart-home-settings.js" charset="UTF-8"></script>
<script type="text/javascript" src="js/stt-server-interface.js" charset="UTF-8"></script>
<script type="text/javascript" src="js/text-to-speech.js" charset="UTF-8"></script>
<script type="text/javascript" src="js/clexi-connections.js" charset="UTF-8"></script>
<script src="js/index.js"></script>
<script src="js/app.js"></script>
</body>
</html>
